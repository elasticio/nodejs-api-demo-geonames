var EventEmitter = require("events").EventEmitter;
var util = require("util");

exports.Executor = Executor;

function Executor(component) {
    EventEmitter.call(this);

    this.component = component;
}

util.inherits(Executor, EventEmitter);

Executor.prototype.execute = function execute(params) {
    var fn = this.component.process;

    if (!fn) {
        throw new Error('process function does not exist');
    }

    fn.apply(this, [
        params.message,
        params.configuration,
        params.next,
        params.snapshot
    ]);
};